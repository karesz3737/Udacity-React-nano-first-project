{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/kerteszkaroly/Downloads/reactnd-project-myreads-starter-master 111/src/App.js\";\nimport React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport BookShels from \"./Components/Bookshels\";\nimport \"./App.css\";\nimport SearchPage from \"./Components/SearchPage\";\nimport searchItems from \"./searchTerms\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      booksB: [],\n      error: \"\"\n    };\n\n    this.componentDidMount = async () => {\n      const books = await BooksAPI.getAll();\n      this.setState({\n        books\n      });\n    };\n\n    this.bookChanger = (book, shelf) => {\n      book.shelf = shelf;\n      BooksAPI.update(book, shelf).catch(err => {\n        if (err) {\n          this.setState({\n            error: err.message\n          });\n        }\n      });\n      this.setState(prev => ({\n        books: prev.books.filter(bb => bb.id !== book.id).concat([book])\n      }));\n    };\n\n    this.bookSearch = async query => {\n      if (query === \"\") {\n        this.setState.booksB = [];\n      }\n\n      const checker = queryString => {\n        queryString = queryString.split(\", \");\n        searchItems.forEach((el, ind) => {\n          queryString.forEach((bb, ind) => {\n            if (el[ind] === bb[ind]) {\n              return queryString.join(\"\");\n            } else {\n              return [];\n            }\n          });\n        });\n      };\n\n      BooksAPI.search(checker(query)).then(book => {\n        if (Array.isArray(book)) {\n          this.displayBooks(book);\n        }\n      });\n    };\n\n    this.displayBooks = queryBooks => {\n      let prevBooks = this.state.books;\n      let booksB = queryBooks.map(book => {\n        prevBooks.forEach(bb => {\n          if (book.id === bb.id) {\n            book = bb;\n          }\n        });\n        return book;\n      });\n      this.setState({\n        booksB: booksB\n      });\n      console.log(this.state.booksB);\n    };\n  }\n\n  render() {\n    {\n      this.state.error && console.log(this.state.error);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-books-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"MyReads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/_jsxDEV(BookShels, {\n          book: this.state.books,\n          bookChanger: this.bookChanger\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/search\",\n        render: () => /*#__PURE__*/_jsxDEV(SearchPage, {\n          bookChanger: this.bookChanger,\n          displayBooks: this.displayBooks,\n          bookSearch: this.bookSearch,\n          booksB: this.state.booksB\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kerteszkaroly/Downloads/reactnd-project-myreads-starter-master 111/src/App.js"],"names":["React","Route","BooksAPI","BookShels","SearchPage","searchItems","App","Component","state","books","booksB","error","componentDidMount","getAll","setState","bookChanger","book","shelf","update","catch","err","message","prev","filter","bb","id","concat","bookSearch","query","checker","queryString","split","forEach","el","ind","join","search","then","Array","isArray","displayBooks","queryBooks","prevBooks","map","console","log","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport BookShels from \"./Components/Bookshels\";\nimport \"./App.css\";\nimport SearchPage from \"./Components/SearchPage\";\nimport searchItems from \"./searchTerms\";\n\nclass App extends React.Component {\n  state = {\n    books: [],\n    booksB: [],\n    error: \"\",\n  };\n  componentDidMount = async () => {\n    const books = await BooksAPI.getAll();\n    this.setState({ books });\n  };\n\n  bookChanger = (book, shelf) => {\n    book.shelf = shelf;\n    BooksAPI.update(book, shelf).catch((err) => {\n      if (err) {\n        this.setState({ error: err.message });\n      }\n    });\n    this.setState((prev) => ({\n      books: prev.books.filter((bb) => bb.id !== book.id).concat([book]),\n    }));\n  };\n  bookSearch = async (query) => {\n    \n    \n    if (query === \"\") {\n      this.setState.booksB = [];\n    }\n    const checker = (queryString) => {\n      queryString = queryString.split(\", \");\n      searchItems.forEach((el, ind) => {\n        queryString.forEach((bb, ind) => {\n          if (el[ind] === bb[ind]) {\n            return queryString.join(\"\");\n          } else {\n            return [];\n          }\n        });\n      });\n    };\n\n    BooksAPI.search(checker(query)).then((book) => {\n      if (Array.isArray(book)) {\n        this.displayBooks(book);\n      }\n    });\n  };\n  displayBooks = (queryBooks) => {\n    let prevBooks = this.state.books;\n    let booksB = queryBooks.map((book) => {\n      prevBooks.forEach((bb) => {\n        if (book.id === bb.id) {\n          book = bb;\n        }\n      });\n      return book;\n    });\n    this.setState({ booksB: booksB });\n    console.log(this.state.booksB);\n  };\n  render() {\n    {\n      this.state.error && console.log(this.state.error);\n    }\n    return (\n      <div className=\"app\">\n        <div className=\"list-books-title\">\n          <h1>MyReads</h1>\n        </div>\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <BookShels book={this.state.books} bookChanger={this.bookChanger} />\n          )}\n        />\n        <Route\n          exact\n          path=\"/search\"\n          render={() => (\n            <SearchPage\n              bookChanger={this.bookChanger}\n              displayBooks={this.displayBooks}\n              bookSearch={this.bookSearch}\n              booksB={this.state.booksB}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}